%
% Operator definitins for different branches.
%

% Commands to set new and renew math operators, operating on lists
\newcommand{\@NewMathOperator}[1]{
    \expandafter\DeclareMathOperator\csname #1\endcsname{#1}
}
\newcommand{\@RenewMathOperator}[1]{
    \expandafter\let\csname #1\endcsname\relax
    \@NewMathOperator{#1}
}

\RequirePackage{etoolbox}
\newcommand{\NewMathOperator}{\forcsvlist{\@NewMathOperator}}
\newcommand{\RenewMathOperator}{\forcsvlist{\@RenewMathOperator}}

% Algebra
\NewMathOperator{sgn,Hom,Tor,Ext,rk,coimg,coker}
\DeclarePairedDelimiter{\iprod}{\langle}{\rangle} % Inner product

% Analysis
\NewMathOperator{D,grad}
\RenewMathOperator{d}
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert} % Absolute
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert} % Norm
\newcommand{\deldelt}[1][t]{\frac{\del}{\del#1}} % Partial derivation in t
\newcommand{\ddt}[1][t]{\frac{\d}{\d\!#1}} % Derivation in t
\let\integ\int % Integral by \integ

% Category theory
\DeclareMathOperator*{\colim}{colim} % Colimes

% Complex numbers
\RenewMathOperator{Re,Im}

% Set theory
\NewMathOperator{im}
\DeclarePairedDelimiterX{\set}[1]\{\}{ % A \set command to draw sets with adjusted mid
    \providecommand{\given}{}
    \renewcommand{\given}{
        \nonscript\:\delimsize\vert
        \allowbreak
        \nonscript\:
        \mathopen{}
    }
    #1
}

% Topology
\NewMathOperator{supp}
\RenewMathOperator{int}
