%
% Integration of source code with the listings package.
%

% Options
\DeclareOption*{
    \expandafter\AtEndOfPackage\expandafter{%
        \expandafter\lstset\expandafter{\CurrentOption}
    }
}

\ProcessOptions*

% Basic packages
\RequirePackage{listings}

% Default settings
\lstset{
    columns=fixed,
    numberstyle = \tiny\color{Gray0},
    numbersep = 1em,
    captionpos = b,
    extendedchars = true, % Use umlauts
    tabsize = 4,
    breaklines = true,
    breakatwhitespace = true,
    basicstyle = \ttfamily\small,
    keywordstyle = \color{Firebrick3},
    keywordstyle = [2]{\color{SpringGreen4}},
    keywordstyle = [3]{\color{DodgerBlue4}},
    keywordstyle = [4]{\color{DarkOrange3}},
    stringstyle = \color{OliveDrab4},
    showstringspaces = false,
    commentstyle = \itshape\color{Snow4},
    emphstyle = \color{NavyBlue},
}

% Styles with and without context information
\lstdefinestyle{context}{
    backgroundcolor = \color{gray!10},
    numbers = left,
    numberstyle = \tiny\color{Gray0},
    title = \lstname,
    frame = lines,
}
\lstdefinestyle{nocontext}{
    backgroundcolor = {},
    numbers = none,
    caption = {},
    frame = none,
}

% Custom language definitions
\RequirePackage{f1rstlady/sourcecode.d/mips}
\RequirePackage{f1rstlady/sourcecode.d/haskell}
