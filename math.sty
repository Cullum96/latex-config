%
% Math configuration
%

% Identification
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{math}[2019/08/08 Custom math configuration]

% Save the values of possibly changed letters
\let\@epsilon\epsilon
\let\@varepsilon\varepsilon
\let\@kappa\kappa
\let\@varkappa\varkappa
\let\@phi\phi
\let\@varphi\varphi
\let\@rho\rho
\let\@varrho\varrho
\let\@sigma\sigma
\let\@varsigma\varsigma
\let\@theta\theta
\let\@vartheta\vartheta

% Options
\DeclareOption{varepsilon}{             % Change \varepsilon and \epsilon
    \let\epsilon\@varepsilon
    \let\varepsilon\@epsilon
}
\DeclareOption{novarepsilon}{           % Reset \varepsilon and \epsilon to their original values
    \let\epsilon\@epsilon
    \let\varepsilon\@varepsilon
}
\DeclareOption{varkappa}{               % Change \varkappa and \kappa
    \let\kappa\@varkappa
    \let\varkappa\@kappa
}
\DeclareOption{novarkappa}{             % Reset \varkappa and \kappa to their original values
    \let\kappa\@kappa
    \let\varkappa\@varkappa
}
\DeclareOption{varphi}{                 % Change \varphi and \phi
    \let\phi\@varphi
    \let\varphi\@phi
}
\DeclareOption{novarphi}{               % Reset \varphi and \phi to their original values
    \let\phi\@phi
    \let\varphi\@varphi
}
\DeclareOption{varrho}{                 % Change \varrho and \rho
    \let\rho\@varrho
    \let\varrho\@rho
}
\DeclareOption{novarrho}{               % Reset \varrho and \rho to their original values
    \let\rho\@rho
    \let\varrho\@varrho
}
\DeclareOption{varsigma}{               % Change \varsigma and \sigma
    \let\sigma\@varsigma
    \let\varsigma\@sigma
}
\DeclareOption{novarsigma}{             % Reset \varsigma and \sigma to their original values
    \let\sigma\@sigma
    \let\varsigma\@varsigma
}
\DeclareOption{vartheta}{               % Change \vartheta and \theta
    \let\theta\@vartheta
    \let\vartheta\@theta
}
\DeclareOption{novartheta}{             % Reset \vartheta and \theta to their original values
    \let\theta\@theta
    \let\vartheta\@vartheta
}
\DeclareOption{doublestruck=bbm}{       % Double struck symbols with the bbm package
    \newcommand{\mathbb}{\mathbbm}
}
\DeclareOption{doublestruck=dsfont}{    % Double struck symbols with the dsfont package
    \newcommand{\mathbb}{\mathds}
}
\DeclareOption*{
    \PackageWarning{math}{Unknown option '\CurrentOption'}
}

% Change epsilon's and phi's by default
\ExecuteOptions{varepsilon,varphi}

\ProcessOptions*

% Basic AMS packages
\RequirePackage[intlimits]{amsmath} % intlimits: boundaries in integrals are placed under
                                    % respectively above the integral sign
\RequirePackage{amsfonts}
\RequirePackage{amssymb}
\RequirePackage{wasysym}            % Additional symbols
\RequirePackage{amstext}            % For \text inside math environments
\RequirePackage{mathtools}          % Enhancement of amsmath
\mathtoolsset{centercolon}
\RequirePackage{mathdots}           % Improved dots

% Draw split-level fractions
\RequirePackage{xfrac}

% Double struck fonts
\RequirePackage{dsfont}
\RequirePackage{bbm}

% Commutative diagrams with the tikz-cd package
\RequirePackage{tikz}
\usetikzlibrary{cd}

% Shortcut for epsilon
\newcommand{\eps}{\epsilon}

% Long \to arrow
\newcommand{\longto}{\longrightarrow}

% Real and imaginary part
\let\Re\relax
\DeclareMathOperator{\Re}{Re}
\let\Im\relax
\DeclareMathOperator{\Im}{Im}

% Underbrace as command in LaTeX syntax and with spacing problems fixed
\newcommand{\Underbrace}[2]{{\underbrace{#1}_{#2}}}

% Less-equal and greater-equal with slanted line
\renewcommand{\le}{\leqslant}
\renewcommand{\ge}{\geqslant}

% Aliases for frequently used sets
\newcommand{\N}{\mathbb{N}} % Natural numbers
\newcommand{\Z}{\mathbb{Z}} % Integers
\newcommand{\Q}{\mathbb{Q}} % Rational numbers
\newcommand{\R}{\mathbb{R}} % Real numbers
\newcommand{\C}{\mathbb{C}} % Complex numbers
\newcommand{\K}{\mathbb{K}} % Field R or C
